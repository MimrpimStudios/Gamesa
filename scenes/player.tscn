[gd_scene load_steps=14 format=3 uid="uid://cdmijiqu81d1q"]

[ext_resource type="Script" uid="uid://cia6u3d1l3ic3" path="res://scripts/player.gd" id="1_g2els"]
[ext_resource type="Script" uid="uid://cf42xnx2s5itd" path="res://scripts/player_healthbar.gd" id="3_dqkch"]
[ext_resource type="Texture2D" uid="uid://vtl816toj435" path="res://assets/Textures/sprites/vidlicka/hlava.png" id="4_d2wvv"]
[ext_resource type="Texture2D" uid="uid://bvpxoq3wdaydj" path="res://assets/Textures/sprites/healthbar.png" id="4_qlg0r"]
[ext_resource type="Texture2D" uid="uid://pahd31wyle04" path="res://assets/Textures/sprites/vidlicka/leva-predni.png" id="5_3v2ag"]
[ext_resource type="Texture2D" uid="uid://kpqqtijhhfno" path="res://assets/Textures/sprites/vidlicka/leva-zadni.png" id="6_jej6c"]
[ext_resource type="Texture2D" uid="uid://d02ukk7l3fc7j" path="res://assets/Textures/sprites/vidlicka/ocas.png" id="7_f1ej7"]
[ext_resource type="Texture2D" uid="uid://5kh0h875pefv" path="res://assets/Textures/sprites/vidlicka/prava-predni.png" id="8_oprun"]
[ext_resource type="Texture2D" uid="uid://dsop1p6fv6muv" path="res://assets/Textures/sprites/vidlicka/prava-zadni.png" id="9_a8ls1"]
[ext_resource type="Texture2D" uid="uid://11nl7ifu4oem" path="res://assets/Textures/sprites/vidlicka/telo-zadek.png" id="10_qfm1y"]
[ext_resource type="Texture2D" uid="uid://bq777c6n2yem8" path="res://assets/Textures/sprites/vidlicka/bunda.png" id="11_fulsm"]

[sub_resource type="SpriteFrames" id="SpriteFrames_u8vuu"]
animations = [{
"frames": [],
"loop": true,
"name": &"left",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"right",
"speed": 5.0
}, {
"frames": [],
"loop": true,
"name": &"stand",
"speed": 5.0
}]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_d2wvv"]
size = Vector2(59, 15)

[node name="Player" type="CharacterBody2D"]
z_index = 1000
collision_mask = 3
script = ExtResource("1_g2els")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
position = Vector2(0, -8)
sprite_frames = SubResource("SpriteFrames_u8vuu")
animation = &"stand"
autoplay = "stand"

[node name="Healthbar" type="Control" parent="AnimatedSprite2D"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -78.5
offset_top = -8.5
offset_right = 62.5
offset_bottom = 56.5
grow_horizontal = 2
scale = Vector2(2, 2)
script = ExtResource("3_dqkch")

[node name="Fill" type="ColorRect" parent="AnimatedSprite2D/Healthbar"]
layout_mode = 0
offset_left = 29.25
offset_top = -2.25
offset_right = 129.25
offset_bottom = 9.75
scale = Vector2(0.125, 0.125)
color = Color(1, 0, 0, 1)

[node name="Healthbar" type="Sprite2D" parent="AnimatedSprite2D/Healthbar"]
position = Vector2(35.25, -5.625)
scale = Vector2(0.125, 0.1125)
texture = ExtResource("4_qlg0r")

[node name="Timer" type="Timer" parent="AnimatedSprite2D/Healthbar/Healthbar"]
one_shot = true
autostart = true

[node name="AnimatedSprite2D2" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(0, -8)
sprite_frames = SubResource("SpriteFrames_u8vuu")
animation = &"stand"
autoplay = "stand"

[node name="Healthbar" type="Control" parent="AnimatedSprite2D2"]
layout_mode = 3
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -78.5
offset_top = -8.5
offset_right = 62.5
offset_bottom = 56.5
grow_horizontal = 2
scale = Vector2(2, 2)
script = ExtResource("3_dqkch")

[node name="Fill" type="ColorRect" parent="AnimatedSprite2D2/Healthbar"]
layout_mode = 0
offset_left = 29.25
offset_top = -2.25
offset_right = 129.25
offset_bottom = 9.75
scale = Vector2(0.125, 0.125)
color = Color(1, 0, 0, 1)

[node name="Healthbar" type="Sprite2D" parent="AnimatedSprite2D2/Healthbar"]
position = Vector2(35.25, -5.625)
scale = Vector2(0.125, 0.1125)
texture = ExtResource("4_qlg0r")

[node name="Timer" type="Timer" parent="AnimatedSprite2D2/Healthbar/Healthbar"]
one_shot = true
autostart = true

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(2.5, -7.5)
shape = SubResource("RectangleShape2D_d2wvv")

[node name="Node2D" type="Node2D" parent="."]
position = Vector2(-9.685755e-08, -19.5)
rotation = 0.12217305
scale = Vector2(0.03, 0.03)

[node name="Hlava" type="Sprite2D" parent="Node2D"]
position = Vector2(848, 26)
texture = ExtResource("4_d2wvv")

[node name="LevaPredni" type="Sprite2D" parent="Node2D"]
position = Vector2(502, 383)
texture = ExtResource("5_3v2ag")

[node name="LevaZadni" type="Sprite2D" parent="Node2D"]
position = Vector2(-777, 478)
texture = ExtResource("6_jej6c")

[node name="Ocas" type="Sprite2D" parent="Node2D"]
position = Vector2(-582, -257)
texture = ExtResource("7_f1ej7")

[node name="PravaPredni" type="Sprite2D" parent="Node2D"]
position = Vector2(109, 433)
texture = ExtResource("8_oprun")

[node name="PravaZadni" type="Sprite2D" parent="Node2D"]
position = Vector2(-571, 454)
texture = ExtResource("9_a8ls1")

[node name="TeloZadek" type="Sprite2D" parent="Node2D"]
position = Vector2(-438, 79)
texture = ExtResource("10_qfm1y")

[node name="Bunda" type="Sprite2D" parent="Node2D"]
position = Vector2(70, -28)
texture = ExtResource("11_fulsm")

[connection signal="timeout" from="AnimatedSprite2D/Healthbar/Healthbar/Timer" to="AnimatedSprite2D/Healthbar" method="_on_timer_timeout"]
[connection signal="timeout" from="AnimatedSprite2D2/Healthbar/Healthbar/Timer" to="AnimatedSprite2D2/Healthbar" method="_on_timer_timeout"]
